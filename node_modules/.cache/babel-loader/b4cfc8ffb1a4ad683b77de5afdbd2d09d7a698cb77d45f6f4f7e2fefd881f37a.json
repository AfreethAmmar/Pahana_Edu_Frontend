{"ast":null,"code":"import api, { handleApiError } from './api';\nconst API_ENDPOINTS = {\n  AUTH: {\n    REGISTER_CUSTOMER: '/api/auth/register/customer',\n    REGISTER_CASHIER: '/api/auth/register/cashier'\n  }\n};\nexport const userService = {\n  async registerCustomer(customerData) {\n    try {\n      const response = await api.post(API_ENDPOINTS.AUTH.REGISTER_CUSTOMER, customerData);\n      return {\n        success: true,\n        data: response.data,\n        message: 'Customer registered successfully'\n      };\n    } catch (error) {\n      const apiError = handleApiError(error);\n      return {\n        success: false,\n        message: apiError.message,\n        error: apiError\n      };\n    }\n  },\n  async registerCashier(cashierData) {\n    try {\n      const response = await api.post(API_ENDPOINTS.AUTH.REGISTER_CASHIER, cashierData);\n      return {\n        success: true,\n        data: response.data,\n        message: 'Cashier registered successfully'\n      };\n    } catch (error) {\n      const apiError = handleApiError(error);\n      return {\n        success: false,\n        message: apiError.message,\n        error: apiError\n      };\n    }\n  },\n  // Helper function to check if user has admin privileges\n  isAdmin() {\n    const userRole = localStorage.getItem('userRole');\n    return userRole === 'ADMIN';\n  },\n  // Helper function to enforce admin access\n  requireAdmin() {\n    if (!this.isAdmin()) {\n      throw new Error('Admin access required');\n    }\n  }\n};\nexport default userService;","map":{"version":3,"names":["api","handleApiError","API_ENDPOINTS","AUTH","REGISTER_CUSTOMER","REGISTER_CASHIER","userService","registerCustomer","customerData","response","post","success","data","message","error","apiError","registerCashier","cashierData","isAdmin","userRole","localStorage","getItem","requireAdmin","Error"],"sources":["C:/Users/afree/OneDrive/Desktop/ap frontend/Pahana_Edu_Frontend/src/services/userService.js"],"sourcesContent":["import api, { handleApiError } from './api';\n\nconst API_ENDPOINTS = {\n  AUTH: {\n    REGISTER_CUSTOMER: '/api/auth/register/customer',\n    REGISTER_CASHIER: '/api/auth/register/cashier'\n  }\n};\n\nexport const userService = {\n  async registerCustomer(customerData) {\n    try {\n      const response = await api.post(API_ENDPOINTS.AUTH.REGISTER_CUSTOMER, customerData);\n      \n      return {\n        success: true,\n        data: response.data,\n        message: 'Customer registered successfully'\n      };\n    } catch (error) {\n      const apiError = handleApiError(error);\n      return {\n        success: false,\n        message: apiError.message,\n        error: apiError\n      };\n    }\n  },\n\n  async registerCashier(cashierData) {\n    try {\n      const response = await api.post(API_ENDPOINTS.AUTH.REGISTER_CASHIER, cashierData);\n      \n      return {\n        success: true,\n        data: response.data,\n        message: 'Cashier registered successfully'\n      };\n    } catch (error) {\n      const apiError = handleApiError(error);\n      return {\n        success: false,\n        message: apiError.message,\n        error: apiError\n      };\n    }\n  },\n\n  // Helper function to check if user has admin privileges\n  isAdmin() {\n    const userRole = localStorage.getItem('userRole');\n    return userRole === 'ADMIN';\n  },\n\n  // Helper function to enforce admin access\n  requireAdmin() {\n    if (!this.isAdmin()) {\n      throw new Error('Admin access required');\n    }\n  }\n};\n\nexport default userService;"],"mappings":"AAAA,OAAOA,GAAG,IAAIC,cAAc,QAAQ,OAAO;AAE3C,MAAMC,aAAa,GAAG;EACpBC,IAAI,EAAE;IACJC,iBAAiB,EAAE,6BAA6B;IAChDC,gBAAgB,EAAE;EACpB;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG;EACzB,MAAMC,gBAAgBA,CAACC,YAAY,EAAE;IACnC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMT,GAAG,CAACU,IAAI,CAACR,aAAa,CAACC,IAAI,CAACC,iBAAiB,EAAEI,YAAY,CAAC;MAEnF,OAAO;QACLG,OAAO,EAAE,IAAI;QACbC,IAAI,EAAEH,QAAQ,CAACG,IAAI;QACnBC,OAAO,EAAE;MACX,CAAC;IACH,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMC,QAAQ,GAAGd,cAAc,CAACa,KAAK,CAAC;MACtC,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEE,QAAQ,CAACF,OAAO;QACzBC,KAAK,EAAEC;MACT,CAAC;IACH;EACF,CAAC;EAED,MAAMC,eAAeA,CAACC,WAAW,EAAE;IACjC,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMT,GAAG,CAACU,IAAI,CAACR,aAAa,CAACC,IAAI,CAACE,gBAAgB,EAAEY,WAAW,CAAC;MAEjF,OAAO;QACLN,OAAO,EAAE,IAAI;QACbC,IAAI,EAAEH,QAAQ,CAACG,IAAI;QACnBC,OAAO,EAAE;MACX,CAAC;IACH,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMC,QAAQ,GAAGd,cAAc,CAACa,KAAK,CAAC;MACtC,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEE,QAAQ,CAACF,OAAO;QACzBC,KAAK,EAAEC;MACT,CAAC;IACH;EACF,CAAC;EAED;EACAG,OAAOA,CAAA,EAAG;IACR,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IACjD,OAAOF,QAAQ,KAAK,OAAO;EAC7B,CAAC;EAED;EACAG,YAAYA,CAAA,EAAG;IACb,IAAI,CAAC,IAAI,CAACJ,OAAO,CAAC,CAAC,EAAE;MACnB,MAAM,IAAIK,KAAK,CAAC,uBAAuB,CAAC;IAC1C;EACF;AACF,CAAC;AAED,eAAejB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}